!function e(t,n,s){function r(i,o){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!o&&c)return c(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return r(n?n:e)},l,l.exports,e,t,n,s)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<s.length;i++)r(s[i]);return r}({1:[function(e,t,n){(function(){var e,s,r,a,i,o,c,u,l,f,h,d,p,g,m,b,y,v,w,j,k,x,C,_,O,P,M,S,F,G,L,N,A,I,q,T,E,R,V,B,D,J,z,U,Z,Y,W,X,$,H,Q,K,ee,te,ne,se,re,ae,ie,oe,ce,ue,le,fe,he,de,pe,ge,me,be,ye,ve,we,je,ke,xe,Ce,_e,Oe,Pe=[].slice;ke=function(){var e,t,n,s,r;for(e={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),s=0,t=r.length;t>s;s++)n=r[s],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),Z=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),t>e&&(e=t),e>n&&(e=n),e},xe=function(e){return e.length>=3?[].slice.call(e):e[0]},j=function(e){var t;for(t in e)3>t?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},a=Math.PI,be=Math.round,C=Math.cos,S=Math.floor,te=Math.pow,Y=Math.log,ve=Math.sin,we=Math.sqrt,p=Math.atan2,$=Math.max,d=Math.abs,c=2*a,i=a/3,s=a/180,o=180/a,w=function(){return arguments[0]instanceof e?arguments[0]:function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,arguments,function(){})},h=[],"undefined"!=typeof t&&null!==t&&null!=t.exports&&(t.exports=w),"function"==typeof define&&define.amd?define([],function(){return w}):(me="undefined"!=typeof n&&null!==n?n:this,me.chroma=w),w.version="1.1.1",f={},u=[],l=!1,e=function(){function e(){var e,t,n,s,r,a,i,o,c;for(a=this,t=[],o=0,s=arguments.length;s>o;o++)e=arguments[o],null!=e&&t.push(e);if(i=t[t.length-1],null!=f[i])a._rgb=j(f[i](xe(t.slice(0,-1))));else{for(l||(u=u.sort(function(e,t){return t.p-e.p}),l=!0),c=0,r=u.length;r>c&&(n=u[c],!(i=n.test.apply(n,t)));c++);i&&(a._rgb=j(f[i].apply(f,t)))}null==a._rgb&&console.warn("unknown format: "+t),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.toString=function(){return this.name()},e}(),w._input=f,w.brewer=y={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ce={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},w.colors=x=Ce,B=function(){var e,t,n,s,a,i,o,c,u;return t=xe(arguments),a=t[0],e=t[1],n=t[2],c=(a+16)/116,o=isNaN(e)?c:c+e/500,u=isNaN(n)?c:c-n/200,c=r.Yn*D(c),o=r.Xn*D(o),u=r.Zn*D(u),i=Oe(3.2404542*o-1.5371385*c-.4985314*u),s=Oe(-.969266*o+1.8760108*c+.041556*u),n=Oe(.0556434*o-.2040259*c+1.0572252*u),i=Z(i,0,255),s=Z(s,0,255),n=Z(n,0,255),[i,s,n,t.length>3?t[3]:1]},Oe=function(e){return be(255*(.00304>=e?12.92*e:1.055*te(e,1/2.4)-.055))},D=function(e){return e>r.t1?e*e*e:r.t2*(e-r.t0)},r={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ce=function(){var e,t,n,s,r,a,i,o;return s=xe(arguments),n=s[0],t=s[1],e=s[2],r=de(n,t,e),a=r[0],i=r[1],o=r[2],[116*i-16,500*(a-i),200*(i-o)]},pe=function(e){return(e/=255)<=.04045?e/12.92:te((e+.055)/1.055,2.4)},_e=function(e){return e>r.t3?te(e,1/3):e/r.t2+r.t0},de=function(){var e,t,n,s,a,i,o;return s=xe(arguments),n=s[0],t=s[1],e=s[2],n=pe(n),t=pe(t),e=pe(e),a=_e((.4124564*n+.3575761*t+.1804375*e)/r.Xn),i=_e((.2126729*n+.7151522*t+.072175*e)/r.Yn),o=_e((.0193339*n+.119192*t+.9503041*e)/r.Zn),[a,i,o]},w.lab=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["lab"]),function(){})},f.lab=B,e.prototype.lab=function(){return ce(this._rgb)},g=function(e){var t,n,s,r,a,i,o,c,u,l,f;return e=function(){var t,n,s;for(s=[],n=0,t=e.length;t>n;n++)r=e[n],s.push(w(r));return s}(),2===e.length?(u=function(){var t,n,s;for(s=[],n=0,t=e.length;t>n;n++)r=e[n],s.push(r.lab());return s}(),a=u[0],i=u[1],t=function(e){var t,n;return n=function(){var n,s;for(s=[],t=n=0;2>=n;t=++n)s.push(a[t]+e*(i[t]-a[t]));return s}(),w.lab.apply(w,n)}):3===e.length?(l=function(){var t,n,s;for(s=[],n=0,t=e.length;t>n;n++)r=e[n],s.push(r.lab());return s}(),a=l[0],i=l[1],o=l[2],t=function(e){var t,n;return n=function(){var n,s;for(s=[],t=n=0;2>=n;t=++n)s.push((1-e)*(1-e)*a[t]+2*(1-e)*e*i[t]+e*e*o[t]);return s}(),w.lab.apply(w,n)}):4===e.length?(f=function(){var t,n,s;for(s=[],n=0,t=e.length;t>n;n++)r=e[n],s.push(r.lab());return s}(),a=f[0],i=f[1],o=f[2],c=f[3],t=function(e){var t,n;return n=function(){var n,s;for(s=[],t=n=0;2>=n;t=++n)s.push((1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*i[t]+3*(1-e)*e*e*o[t]+e*e*e*c[t]);return s}(),w.lab.apply(w,n)}):5===e.length&&(n=g(e.slice(0,3)),s=g(e.slice(2,5)),t=function(e){return.5>e?n(2*e):s(2*(e-.5))}),t},w.bezier=function(e){var t;return t=g(e),t.scale=function(){return w.scale(t)},t},w.cubehelix=function(e,t,n,s,r){var a,i,o;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==s&&(s=1),null==r&&(r=[0,1]),i=r[1]-r[0],a=0,o=function(o){var u,l,f,h,d,p,g,m,b;return u=c*((e+120)/360+t*o),g=te(r[0]+i*o,s),p=0!==a?n[0]+o*a:n,l=p*g*(1-g)/2,h=C(u),b=ve(u),m=g+l*(-.14861*h+1.78277*b),d=g+l*(-.29227*h-.90649*b),f=g+1.97294*l*h,w(j([255*m,255*d,255*f]))},o.start=function(t){return null==t?e:(e=t,o)},o.rotations=function(e){return null==e?t:(t=e,o)},o.gamma=function(e){return null==e?s:(s=e,o)},o.hue=function(e){return null==e?n:(n=e,"array"===ke(n)?(a=n[1]-n[0],0===a&&(n=n[1])):a=0,o)},o.lightness=function(e){return null==e?r:(r=e,"array"===ke(r)?(i=r[1]-r[0],0===i&&(r=r[1])):i=0,o)},o.scale=function(){return w.scale(o)},o.hue(n),o},w.random=function(){var t,n,s,r;for(n="0123456789abcdef",t="#",s=r=0;6>r;s=++r)t+=n.charAt(S(16*Math.random()));return new e(t)},f.rgb=function(){var e,t,n,s;t=xe(arguments),n=[];for(e in t)s=t[e],n.push(s);return n},w.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["rgb"]),function(){})},e.prototype.rgb=function(){return this._rgb.slice(0,3)},e.prototype.rgba=function(){return this._rgb},u.push({p:15,test:function(e){var t;return t=xe(arguments),"array"===ke(t)&&3===t.length?"rgb":4===t.length&&"number"===ke(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),F=function(e){var t,n,s,r,a,i;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),i=parseInt(e,16),r=i>>16,s=i>>8&255,n=255&i,[r,s,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),i=parseInt(e,16),r=i>>24&255,s=i>>16&255,n=i>>8&255,t=be((255&i)/255*100)/100,[r,s,n,t];if(null!=f.css&&(a=f.css(e)))return a;throw"unknown color: "+e},re=function(e,t){var n,s,r,a,i,o,c;return null==t&&(t="rgb"),i=e[0],r=e[1],s=e[2],n=e[3],c=i<<16|r<<8|s,o="000000"+c.toString(16),o=o.substr(o.length-6),a="0"+be(255*n).toString(16),a=a.substr(a.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return o+a;case"argb":return a+o;default:return o}}()},f.hex=function(e){return F(e)},w.hex=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["hex"]),function(){})},e.prototype.hex=function(e){return null==e&&(e="rgb"),re(this._rgb,e)},u.push({p:10,test:function(e){return 1===arguments.length&&"string"===ke(e)?"hex":void 0}}),N=function(){var e,t,n,s,r,a,i,o,c,u,l,f,h,d;if(e=xe(arguments),r=e[0],l=e[1],i=e[2],0===l)c=s=t=255*i;else{for(d=[0,0,0],n=[0,0,0],h=.5>i?i*(1+l):i+l-i*l,f=2*i-h,r/=360,d[0]=r+1/3,d[1]=r,d[2]=r-1/3,a=o=0;2>=o;a=++o)d[a]<0&&(d[a]+=1),d[a]>1&&(d[a]-=1),n[a]=6*d[a]<1?f+6*(h-f)*d[a]:2*d[a]<1?h:3*d[a]<2?f+(h-f)*(2/3-d[a])*6:f;u=[be(255*n[0]),be(255*n[1]),be(255*n[2])],c=u[0],s=u[1],t=u[2]}return e.length>3?[c,s,t,e[3]]:[c,s,t]},ie=function(e,t,n){var s,r,a,i,o;return void 0!==e&&e.length>=3&&(i=e,e=i[0],t=i[1],n=i[2]),e/=255,t/=255,n/=255,a=Math.min(e,t,n),$=Math.max(e,t,n),r=($+a)/2,$===a?(o=0,s=Number.NaN):o=.5>r?($-a)/($+a):($-a)/(2-$-a),e===$?s=(t-n)/($-a):t===$?s=2+(n-e)/($-a):n===$&&(s=4+(e-t)/($-a)),s*=60,0>s&&(s+=360),[s,o,r]},w.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["hsl"]),function(){})},f.hsl=N,e.prototype.hsl=function(){return ie(this._rgb)},A=function(){var e,t,n,s,r,a,i,o,c,u,l,f,h,d,p,g,m,b;if(e=xe(arguments),r=e[0],g=e[1],b=e[2],b*=255,0===g)c=s=t=b;else switch(360===r&&(r=0),r>360&&(r-=360),0>r&&(r+=360),r/=60,a=S(r),n=r-a,i=b*(1-g),o=b*(1-g*n),m=b*(1-g*(1-n)),a){case 0:u=[b,m,i],c=u[0],s=u[1],t=u[2];break;case 1:l=[o,b,i],c=l[0],s=l[1],t=l[2];break;case 2:f=[i,b,m],c=f[0],s=f[1],t=f[2];break;case 3:h=[i,o,b],c=h[0],s=h[1],t=h[2];break;case 4:d=[m,i,b],c=d[0],s=d[1],t=d[2];break;case 5:p=[b,i,o],c=p[0],s=p[1],t=p[2]}return c=be(c),s=be(s),t=be(t),[c,s,t,e.length>3?e[3]:1]},oe=function(){var e,t,n,s,r,a,i,o,c;return i=xe(arguments),a=i[0],n=i[1],e=i[2],r=Math.min(a,n,e),$=Math.max(a,n,e),t=$-r,c=$/255,0===$?(s=Number.NaN,o=0):(o=t/$,a===$&&(s=(n-e)/t),n===$&&(s=2+(e-a)/t),e===$&&(s=4+(a-n)/t),s*=60,0>s&&(s+=360)),[s,o,c]},w.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["hsv"]),function(){})},f.hsv=A,e.prototype.hsv=function(){return oe(this._rgb)},K=function(e){var t,n,s;return"number"===ke(e)&&e>=0&&16777215>=e?(s=e>>16,n=e>>8&255,t=255&e,[s,n,t,1]):(console.warn("unknown num color: "+e),[0,0,0,1])},fe=function(){var e,t,n,s;return s=xe(arguments),n=s[0],t=s[1],e=s[2],(n<<16)+(t<<8)+e},w.num=function(t){return new e(t,"num")},e.prototype.num=function(e){return null==e&&(e="rgb"),fe(this._rgb,e)},f.num=K,u.push({p:10,test:function(e){return 1===arguments.length&&"number"===ke(e)&&e>=0&&16777215>=e?"num":void 0}}),_=function(e){var t,n,s,r,a,i,o,c;if(e=e.toLowerCase(),null!=w.colors&&w.colors[e])return F(w.colors[e]);if(a=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(o=a.slice(1,4),r=i=0;2>=i;r=++i)o[r]=+o[r];o[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(o=a.slice(1,5),r=c=0;3>=c;r=++c)o[r]=+o[r];else if(a=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(o=a.slice(1,4),r=t=0;2>=t;r=++t)o[r]=be(2.55*o[r]);o[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(o=a.slice(1,5),r=n=0;2>=n;r=++n)o[r]=be(2.55*o[r]);o[3]=+o[3]}else(a=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(s=a.slice(1,4),s[1]*=.01,s[2]*=.01,o=N(s),o[3]=1):(a=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(s=a.slice(1,4),s[1]*=.01,s[2]*=.01,o=N(s),o[3]=+a[4]);return o},se=function(e){var t;return t=e[3]<1?"rgba":"rgb","rgb"===t?t+"("+e.slice(0,3).map(be).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(be).join(",")+","+e[3]+")":void 0},ge=function(e){return be(100*e)/100},L=function(e,t){var n;return n=1>t?"hsla":"hsl",e[0]=ge(e[0]||0),e[1]=ge(100*e[1])+"%",e[2]=ge(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},f.css=function(e){return _(e)},w.css=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["css"]),function(){})},e.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?se(this._rgb):"hsl"===e.slice(0,3)?L(this.hsl(),this.alpha()):void 0},f.named=function(e){return F(Ce[e])},u.push({p:20,test:function(e){return 1===arguments.length&&null!=Ce[e]?"named":void 0}}),e.prototype.name=function(e){var t,n;arguments.length&&(Ce[e]&&(this._rgb=F(Ce[e])),this._rgb[3]=1),t=this.hex();for(n in Ce)if(t===Ce[n])return n;return t},J=function(){var e,t,n,r;return r=xe(arguments),n=r[0],e=r[1],t=r[2],t*=s,[n,C(t)*e,ve(t)*e]},z=function(){var e,t,n,s,r,a,i,o,c,u,l;return n=xe(arguments),o=n[0],r=n[1],i=n[2],u=J(o,r,i),e=u[0],t=u[1],s=u[2],l=B(e,t,s),c=l[0],a=l[1],s=l[2],[Z(c,0,255),Z(a,0,255),Z(s,0,255),n.length>3?n[3]:1]},V=function(){var e,t,n,s,r,a;return a=xe(arguments),r=a[0],e=a[1],t=a[2],n=we(e*e+t*t),s=(p(t,e)*o+360)%360,0===be(1e4*n)&&(s=Number.NaN),[r,n,s]},ue=function(){var e,t,n,s,r,a,i;return a=xe(arguments),r=a[0],n=a[1],t=a[2],i=ce(r,n,t),s=i[0],e=i[1],t=i[2],V(s,e,t)},w.lch=function(){var t;return t=xe(arguments),new e(t,"lch")},w.hcl=function(){var t;return t=xe(arguments),new e(t,"hcl")},f.lch=z,f.hcl=function(){var e,t,n,s;return s=xe(arguments),t=s[0],e=s[1],n=s[2],z([n,e,t])},e.prototype.lch=function(){return ue(this._rgb)},e.prototype.hcl=function(){return ue(this._rgb).reverse()},ne=function(e){var t,n,s,r,a,i,o,c,u;return null==e&&(e="rgb"),c=xe(arguments),o=c[0],r=c[1],t=c[2],o/=255,r/=255,t/=255,a=1-Math.max(o,Math.max(r,t)),s=1>a?1/(1-a):0,n=(1-o-a)*s,i=(1-r-a)*s,u=(1-t-a)*s,[n,i,u,a]},k=function(){var e,t,n,s,r,a,i,o,c;return t=xe(arguments),s=t[0],i=t[1],c=t[2],a=t[3],e=t.length>4?t[4]:1,1===a?[0,0,0,e]:(o=s>=1?0:be(255*(1-s)*(1-a)),r=i>=1?0:be(255*(1-i)*(1-a)),n=c>=1?0:be(255*(1-c)*(1-a)),[o,r,n,e])},f.cmyk=function(){return k(xe(arguments))},w.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["cmyk"]),function(){})},e.prototype.cmyk=function(){return ne(this._rgb)},f.gl=function(){var e,t,n,s,r;for(s=function(){var e,n;e=xe(arguments),n=[];for(t in e)r=e[t],n.push(r);return n}.apply(this,arguments),e=n=0;2>=n;e=++n)s[e]*=255;return s},w.gl=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["gl"]),function(){})},e.prototype.gl=function(){var e;return e=this._rgb,[e[0]/255,e[1]/255,e[2]/255,e[3]]},le=function(e,t,n){var s;return s=xe(arguments),e=s[0],t=s[1],n=s[2],e=W(e),t=W(t),n=W(n),.2126*e+.7152*t+.0722*n},W=function(e){return e/=255,.03928>=e?e/12.92:te((e+.055)/1.055,2.4)},h=[],I=function(e,t,n,s){var r,a,i,o;for(null==n&&(n=.5),null==s&&(s="rgb"),"object"!==ke(e)&&(e=w(e)),"object"!==ke(t)&&(t=w(t)),i=0,a=h.length;a>i;i++)if(r=h[i],s===r[0]){o=r[1](e,t,n,s);break}if(null==o)throw"color mode "+s+" is not supported";return o.alpha(e.alpha()+n*(t.alpha()-e.alpha())),o},w.interpolate=I,e.prototype.interpolate=function(e,t,n){return I(this,e,t,n)},w.mix=I,e.prototype.mix=e.prototype.interpolate,R=function(t,n,s,r){var a,i;return a=t._rgb,i=n._rgb,new e(a[0]+s*(i[0]-a[0]),a[1]+s*(i[1]-a[1]),a[2]+s*(i[2]-a[2]),r)},h.push(["rgb",R]),e.prototype.luminance=function(e,t){var n,s,r,a;return null==t&&(t="rgb"),arguments.length?(0===e?this._rgb=[0,0,0,this._rgb[3]]:1===e?this._rgb=[255,255,255,this._rgb[3]]:(s=1e-7,r=20,a=function(n,i){var o,c;return c=n.interpolate(i,.5,t),o=c.luminance(),Math.abs(e-o)<s||!r--?c:o>e?a(n,c):a(c,i)},n=le(this._rgb),this._rgb=(n>e?a(w("black"),this):a(this,w("white"))).rgba()),this):le(this._rgb)},je=function(e){var t,n,s,r;return r=e/100,66>r?(s=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*Y(n),t=20>r?0:-254.76935184120902+.8274096064007395*(t=r-10)+115.67994401066147*Y(t)):(s=351.97690566805693+.114206453784165*(s=r-55)-40.25366309332127*Y(s),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*Y(n),t=255),j([s,n,t])},he=function(){var e,t,n,s,r,a,i,o,c;for(i=xe(arguments),a=i[0],n=i[1],e=i[2],r=1e3,s=4e4,t=.4;s-r>t;)c=.5*(s+r),o=je(c),o[2]/o[0]>=e/a?s=c:r=c;return be(c)},w.temperature=w.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["temperature"]),function(){})},f.temperature=f.kelvin=f.K=je,e.prototype.temperature=function(){return he(this._rgb)},e.prototype.kelvin=e.prototype.temperature,w.contrast=function(t,n){var s,r,a,i;return("string"===(a=ke(t))||"number"===a)&&(t=new e(t)),("string"===(i=ke(n))||"number"===i)&&(n=new e(n)),s=t.luminance(),r=n.luminance(),s>r?(s+.05)/(r+.05):(r+.05)/(s+.05)},e.prototype.get=function(e){var t,n,s,r,a,i;return s=this,a=e.split("."),r=a[0],t=a[1],i=s[r](),t?(n=r.indexOf(t),n>-1?i[n]:console.warn("unknown channel "+t+" in mode "+r)):i},e.prototype.set=function(e,t){var n,s,r,a,i,o;if(r=this,i=e.split("."),a=i[0],n=i[1],n)if(o=r[a](),s=a.indexOf(n),s>-1)if("string"===ke(t))switch(t.charAt(0)){case"+":o[s]+=+t;break;case"-":o[s]+=+t;break;case"*":o[s]*=+t.substr(1);break;case"/":o[s]/=+t.substr(1);break;default:o[s]=+t}else o[s]=t;else console.warn("unknown channel "+n+" in mode "+a);else o=t;return r._rgb=w(o,a).alpha(r.alpha())._rgb,r},e.prototype.darken=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lab(),t[0]-=r.Kn*e,w.lab(t).alpha(n.alpha())},e.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},e.prototype.darker=e.prototype.darken,e.prototype.brighter=e.prototype.brighten,e.prototype.saturate=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lch(),t[1]+=e*r.Kn,t[1]<0&&(t[1]=0),w.lch(t).alpha(n.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),w(t[0]*e,t[1]*e,t[2]*e,e)},m=function(e,t,n){if(!m[n])throw"unknown blend mode "+n;return m[n](e,t)},b=function(e){return function(t,n){var s,r;return s=w(n).rgb(),r=w(t).rgb(),w(e(s,r),"rgb")}},M=function(e){return function(t,n){var s,r,a;for(a=[],s=r=0;3>=r;s=++r)a[s]=e(t[s],n[s]);return a}},Q=function(e,t){return e},H=function(e,t){return e*t/255},O=function(e,t){return e>t?t:e},U=function(e,t){return e>t?e:t},ye=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ee=function(e,t){return 128>t?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},v=function(e,t){return 255*(1-(1-t/255)/(e/255))},P=function(e,t){return 255===e?255:(e=255*(t/255)/(1-e/255),e>255?255:e)},m.normal=b(M(Q)),m.multiply=b(M(H)),m.screen=b(M(ye)),m.overlay=b(M(ee)),m.darken=b(M(O)),m.lighten=b(M(U)),m.dodge=b(M(P)),m.burn=b(M(v)),w.blend=m,w.analyze=function(e){var t,n,s,r;for(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;t>n;n++)r=e[n],null==r||isNaN(r)||(s.values.push(r),s.sum+=r,r<s.min&&(s.min=r),r>s.max&&(s.max=r),s.count+=1);return s.domain=[s.min,s.max],s.limits=function(e,t){return w.limits(s,e,t)},s},w.scale=function(e,t){var n,s,r,a,i,o,c,u,l,f,h,d,p,g,m,b,y,v,j,k,x;return l="rgb",f=w("#ccc"),g=0,o=!1,i=[0,1],p=[],d=[0,0],n=!1,r=[],h=!1,u=0,c=1,a=!1,s={},k=function(e){var t,n,s,a,i,o,c;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===ke(e)&&null!=(null!=(a=w.brewer)?a[e]:void 0)&&(e=w.brewer[e]),"array"===ke(e)){for(e=e.slice(0),t=s=0,i=e.length-1;i>=0?i>=s:s>=i;t=i>=0?++s:--s)n=e[t],"string"===ke(n)&&(e[t]=w(n));for(p.length=0,t=c=0,o=e.length-1;o>=0?o>=c:c>=o;t=o>=0?++c:--c)p.push(t/(e.length-1))}return j(),r=e},y=function(e){var t,s;if(null!=n){for(s=n.length-1,t=0;s>t&&e>=n[t];)t++;return t-1}return 0},x=function(e){return e},m=function(e){var t,s,r,a,i;return i=e,n.length>2&&(a=n.length-1,t=y(e),r=n[0]+(n[1]-n[0])*(0+.5*g),s=n[a-1]+(n[a]-n[a-1])*(1-.5*g),i=u+(n[t]+.5*(n[t+1]-n[t])-r)/(s-r)*(c-u)),i},v=function(e,t){var a,i,o,h,g,m,b,v;if(null==t&&(t=!1),isNaN(e))return f;if(t?v=e:n&&n.length>2?(a=y(e),v=a/(n.length-2),v=d[0]+v*(1-d[0]-d[1])):c!==u?(v=(e-u)/(c-u),v=d[0]+v*(1-d[0]-d[1]),v=Math.min(1,Math.max(0,v))):v=1,t||(v=x(v)),h=Math.floor(1e4*v),s[h])i=s[h];else{if("array"===ke(r))for(o=g=0,b=p.length-1;b>=0?b>=g:g>=b;o=b>=0?++g:--g){if(m=p[o],m>=v){i=r[o];break}if(v>=m&&o===p.length-1){i=r[o];break}if(v>m&&v<p[o+1]){v=(v-m)/(p[o+1]-m),i=w.interpolate(r[o],r[o+1],v,l);break}}else"function"===ke(r)&&(i=r(v));s[h]=i}return i},j=function(){return s={}},k(e),b=function(e){var t;return t=w(v(e)),h&&t[h]?t[h]():t},b.classes=function(e){var t;return null!=e?("array"===ke(e)?(n=e,i=[e[0],e[e.length-1]]):(t=w.analyze(i),n=0===e?[t.min,t.max]:w.limits(t,"e",e)),b):n},b.domain=function(e){var t,n,s,a,o,l,f;if(!arguments.length)return i;if(u=e[0],c=e[e.length-1],p=[],s=r.length,e.length===s&&u!==c)for(o=0,a=e.length;a>o;o++)n=e[o],p.push((n-u)/(c-u));else for(t=f=0,l=s-1;l>=0?l>=f:f>=l;t=l>=0?++f:--f)p.push(t/(s-1));return i=[u,c],b},b.mode=function(e){return arguments.length?(l=e,j(),b):l},b.range=function(e,t){return k(e,t),b},b.out=function(e){return h=e,b},b.spread=function(e){return arguments.length?(g=e,b):g},b.correctLightness=function(e){return null==e&&(e=!0),a=e,j(),x=a?function(e){var t,n,s,r,a,i,o,c,u;for(t=v(0,!0).lab()[0],n=v(1,!0).lab()[0],o=t>n,s=v(e,!0).lab()[0],a=t+(n-t)*e,r=s-a,c=0,u=1,i=20;Math.abs(r)>.01&&i-->0;)!function(){return o&&(r*=-1),0>r?(c=e,e+=.5*(u-e)):(u=e,e+=.5*(c-e)),s=v(e,!0).lab()[0],r=s-a}();return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===ke(e)&&(e=[e,e]),d=e,b):d},b.colors=function(){var t,s,r,a,o,c,u,l,f;if(a=0,o="hex",1===arguments.length&&("string"===ke(arguments[0])?o=arguments[0]:a=arguments[0]),2===arguments.length&&(a=arguments[0],o=arguments[1]),a)return s=i[0],t=i[1]-s,function(){u=[];for(var e=0;a>=0?a>e:e>a;a>=0?e++:e--)u.push(e);return u}.apply(this).map(function(e){return b(s+e/(a-1)*t)[o]()});if(e=[],l=[],n&&n.length>2)for(r=f=1,c=n.length;c>=1?c>f:f>c;r=c>=1?++f:--f)l.push(.5*(n[r-1]+n[r]));else l=i;return l.map(function(e){return b(e)[o]()})},b},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(e,t,n){var s,r,a,i,o,c,u;if(o={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),s=function(e){null==e||isNaN(e)||(o.values.push(e),o.sum+=e,e<o.min&&(o.min=e),e>o.max&&(o.max=e),o.count+=1)},u=function(e,r){return n(e,r)?s(null!=t&&"function"===ke(t)?t(e):null!=t&&"string"===ke(t)||"number"===ke(t)?e[t]:e):void 0},"array"===ke(e))for(i=0,a=e.length;a>i;i++)c=e[i],u(c);else for(r in e)c=e[r],u(c,r);return o.domain=[o.min,o.max],o.limits=function(e,t){return w.limits(o,e,t)},o},w.limits=function(e,t,n){var s,r,a,i,o,c,u,l,f,h,p,g,m,b,y,v,j,k,x,C,_,O,P,M,F,G,L,N,A,I,q,T,E,R,V,B,D,J,z,U,Z,W,X,H,Q,K,ee,ne,se,re,ae,ie,oe,ce,ue;if(null==t&&(t="equal"),null==n&&(n=7),"array"===ke(e)&&(e=w.analyze(e)),F=e.min,$=e.max,ae=e.sum,ce=e.values.sort(function(e,t){return e-t}),P=[],"c"===t.substr(0,1)&&(P.push(F),P.push($)),"e"===t.substr(0,1)){for(P.push(F),C=q=1,V=n-1;V>=1?V>=q:q>=V;C=V>=1?++q:--q)P.push(F+C/n*($-F));P.push($)}else if("l"===t.substr(0,1)){if(0>=F)throw"Logarithmic scales are only possible for values > 0";for(G=Math.LOG10E*Y(F),M=Math.LOG10E*Y($),P.push(F),C=ue=1,B=n-1;B>=1?B>=ue:ue>=B;C=B>=1?++ue:--ue)P.push(te(10,G+C/n*(M-G)));P.push($)}else if("q"===t.substr(0,1)){for(P.push(F),C=s=1,W=n-1;W>=1?W>=s:s>=W;C=W>=1?++s:--s)T=ce.length*C/n,E=S(T),E===T?P.push(ce[E]):(R=T-E,P.push(ce[E]*R+ce[E+1]*(1-R)));P.push($)}else if("k"===t.substr(0,1)){for(N=ce.length,b=new Array(N),k=new Array(n),re=!0,A=0,v=null,v=[],v.push(F),C=r=1,X=n-1;X>=1?X>=r:r>=X;C=X>=1?++r:--r)v.push(F+C/n*($-F));for(v.push($);re;){for(_=a=0,H=n-1;H>=0?H>=a:a>=H;_=H>=0?++a:--a)k[_]=0;for(C=i=0,Q=N-1;Q>=0?Q>=i:i>=Q;C=Q>=0?++i:--i){for(oe=ce[C],L=Number.MAX_VALUE,_=o=0,K=n-1;K>=0?K>=o:o>=K;_=K>=0?++o:--o)x=d(v[_]-oe),L>x&&(L=x,y=_);k[y]++,b[C]=y}for(I=new Array(n),_=c=0,ee=n-1;ee>=0?ee>=c:c>=ee;_=ee>=0?++c:--c)I[_]=null;for(C=u=0,ne=N-1;ne>=0?ne>=u:u>=ne;C=ne>=0?++u:--u)j=b[C],null===I[j]?I[j]=ce[C]:I[j]+=ce[C];for(_=l=0,se=n-1;se>=0?se>=l:l>=se;_=se>=0?++l:--l)I[_]*=1/k[_];for(re=!1,_=f=0,D=n-1;D>=0?D>=f:f>=D;_=D>=0?++f:--f)if(I[_]!==v[C]){re=!0;break}v=I,A++,A>200&&(re=!1)}for(O={},_=h=0,J=n-1;J>=0?J>=h:h>=J;_=J>=0?++h:--h)O[_]=[];for(C=p=0,z=N-1;z>=0?z>=p:p>=z;C=z>=0?++p:--p)j=b[C],O[j].push(ce[C]);for(ie=[],_=g=0,U=n-1;U>=0?U>=g:g>=U;_=U>=0?++g:--g)ie.push(O[_][0]),ie.push(O[_][O[_].length-1]);for(ie=ie.sort(function(e,t){return e-t}),P.push(ie[0]),C=m=1,Z=ie.length-1;Z>=m;C=m+=2)isNaN(ie[C])||P.push(ie[C])}return P},G=function(e,t,n){var s,r,a,o;return s=xe(arguments),e=s[0],t=s[1],n=s[2],e/=360,1/3>e?(r=(1-t)/3,o=(1+t*C(c*e)/C(i-c*e))/3,a=1-(r+o)):2/3>e?(e-=1/3,o=(1-t)/3,a=(1+t*C(c*e)/C(i-c*e))/3,r=1-(o+a)):(e-=2/3,a=(1-t)/3,r=(1+t*C(c*e)/C(i-c*e))/3,o=1-(a+r)),o=Z(n*o*3),a=Z(n*a*3),r=Z(n*r*3),[255*o,255*a,255*r,s.length>3?s[3]:1]},ae=function(){var e,t,n,s,r,a,i,o;return i=xe(arguments),a=i[0],t=i[1],e=i[2],c=2*Math.PI,a/=255,t/=255,e/=255,r=Math.min(a,t,e),s=(a+t+e)/3,o=1-r/s,0===o?n=0:(n=(a-t+(a-e))/2,n/=Math.sqrt((a-t)*(a-t)+(a-e)*(t-e)),n=Math.acos(n),e>t&&(n=c-n),n/=c),[360*n,o,s]},w.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var s=new n,r=e.apply(s,t);return Object(r)===r?r:s}(e,Pe.call(arguments).concat(["hsi"]),function(){})},f.hsi=G,e.prototype.hsi=function(){return ae(this._rgb)},q=function(e,t,n,s){var r,a,i,o,c,u,l,f,h,d,p,g,m;return"hsl"===s?(g=e.hsl(),m=t.hsl()):"hsv"===s?(g=e.hsv(),m=t.hsv()):"hsi"===s?(g=e.hsi(),m=t.hsi()):("lch"===s||"hcl"===s)&&(s="hcl",g=e.hcl(),m=t.hcl()),"h"===s.substr(0,1)&&(i=g[0],d=g[1],u=g[2],o=m[0],p=m[1],l=m[2]),isNaN(i)||isNaN(o)?isNaN(i)?isNaN(o)?a=Number.NaN:(a=o,1!==u&&0!==u||"hsv"===s||(h=p)):(a=i,1!==l&&0!==l||"hsv"===s||(h=d)):(r=o>i&&o-i>180?o-(i+360):i>o&&i-o>180?o+360-i:o-i,
a=i+n*r),null==h&&(h=d+n*(p-d)),c=u+n*(l-u),f=w[s](a,h,c)},h=h.concat(function(){var e,t,n,s;for(n=["hsv","hsl","hsi","hcl","lch"],s=[],t=0,e=n.length;e>t;t++)X=n[t],s.push([X,q]);return s}()),E=function(e,t,n,s){var r,a;return r=e.num(),a=t.num(),w.num(r+(a-r)*n,"num")},h.push(["num",E]),T=function(t,n,s,r){var a,i,o;return i=t.lab(),o=n.lab(),a=new e(i[0]+s*(o[0]-i[0]),i[1]+s*(o[1]-i[1]),i[2]+s*(o[2]-i[2]),r)},h.push(["lab",T])}).call(this)},{}],2:[function(e,t,n){"use strict";function s(e){var t=r(arguments),n=!1,s=["help","abstract","arguments","Array","boolean","break","byte","case","catch","char","class","const","continue","debugger","Date","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","hasOwnProperty","if","implements","import","in","instanceof","int","interface","isFinite","isNaN","isPrototypeOf","Infinity","length","let","long","native","Math","name","new","NaN","Number","null","Object","package","private","protected","prototype","public","return","short","static","super","switch","synchronized","String","this","throw","throws","toString","transient","true","try","typeof","undefined","valueOf","var","void","volatile","while","with","yield"];return e&&"string"==typeof e&&(/^[-A-Z0-9]+$/i.test(e)?-1===s.indexOf(e)?n=!0:console.log('Sorry, "'+e+'" is not a valid name because it is a reserved word. The full list of reserved words is: '+s):console.log("Sorry, that is not a valid name. Valid names can only contain letters (a to Z), numbers (0-9), or dashes (-).")),t(n),n}var r=e("./../construct/newCallback.js");t.exports=s},{"./../construct/newCallback.js":5}],3:[function(e,t,n){"use strict";function s(e){var t=r(arguments),n=!1;return e&&e.meta&&e.meta.type&&e.meta.type.indexOf("scape.sociJson")>-1&&(n=!0),t(n),n}var r=e("./../construct/newCallback.js");t.exports=s},{"./../construct/newCallback.js":5}],4:[function(e,t,n){"use strict";function s(e){var t=r(arguments),n=!1;return e&&("string"==typeof e&&/^(http|HTTP|https|HTTPS|ftp|FTP|ftps|FTPS):\/\/(([a-zA-Z0-9$\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\/(([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\/([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\?([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?(\#([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?)?$/.test(e)?n=!0:console.log()),t(n),n}var r=e("./../construct/newCallback.js");t.exports=s},{"./../construct/newCallback.js":5}],5:[function(e,t,n){"use strict";function s(e){var t;return t="function"==typeof e[e.length-1]?e[e.length-1]:function(e){return e}}t.exports=s},{}],6:[function(e,t,n){"use strict";function s(){var e=function(e,t,n){for(var s=[];e.myFunction.length>e.myArguments.length;)e.myArguments.push(null);for(var r=0;r<e.myArguments.length;r++)s.push(e.myArguments[r]);s.push(n),e.myFunction.apply(t,s)},t=function(){var t,n,s,i,o=[],c=!0,u=this;return this.dispatcher=function(l,f){if(l&&l.myFunction&&"function"==typeof l.myFunction&&(f=r(arguments),o.push({myFunction:l.myFunction,myArguments:l.myArguments,myThis:l.myThis,myReturn:l.myReturn,myCallback:f}),u.dispatcher()),!l&&c)for(;o.length>0;)c===!0&&(c=!1,i=o.shift(),i.myThis=i.myThis?i.myThis:t,e(i,i.myThis,function(e){i.myCallback(e),t=i.myReturn?i.myReturn:e,s=e?"success":"failure",n=a(i.myFunction.name,s),document.dispatchEvent(n),c=!0,u.dispatcher()}))},Object.defineProperty(this.dispatcher,"result",{value:function(){return t}}),Object.defineProperty(this.dispatcher,"status",{value:function(){return c}}),Object.defineProperty(this.dispatcher,"queue",{value:function(){return o}}),Object.defineProperty(this.dispatcher,"nowServing",{value:function(){return i}}),Object.defineProperty(this,"dispatcher",{configurable:!1}),this.dispatcher};return new t}var r=e("./../construct/newCallback.js"),a=e("./../construct/newEvent.js");t.exports=s},{"./../construct/newCallback.js":5,"./../construct/newEvent.js":7}],7:[function(e,t,n){"use strict";function s(e,t){var n;return n=new CustomEvent(e,{detail:t})}t.exports=s},{}],8:[function(e,t,n){(function(n){"use strict";function s(e,t,s){var i,o=a(arguments);return r(e)?s?window?(window[e]=t,i=window[e]):n&&(n[e]=t,i=n[e]):console.log('Sorry, a global object called "'+e+'" already exists.'):(window?(window[e]=t,i=window[e]):n&&(window[e]=t,i=window[e]),console.log('Creating a new global object called "'+e+'".')),o(i),i}var r=e("./../fetch/fetchGlobal.js"),a=e("./newCallback.js");t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../fetch/fetchGlobal.js":17,"./newCallback.js":5}],9:[function(e,t,n){"use strict";var s=socioscapes.fn.isValidObject,r=socioscapes.fn.newCallback,a=socioscapes.fn.newScapeObject,i=e("./../construct/newEvent.js");socioscapes.fn.extend([{path:"newScapeMenu",silent:!0,extension:function(e){var t=r(arguments),n=this,o=function(e){var t=this,n=this,c=e.schema,u=c["class"],l=c.parent,f=c.type;Object.defineProperty(this,"drop",{value:function(){return delete window[e],this}}),Object.defineProperty(this,"schema",{value:e.schema}),Object.defineProperty(this,"this",{value:e}),Object.defineProperty(this,"meta",{value:e.meta}),Object.defineProperty(this,"new",{value:function(e){var t;return e=e||c.name+u.length,t=a(e,l,f),n=t?new o(t):n}}),Object.defineProperty(this,"save",{value:""}),Object.defineProperty(this,"load",{value:""}),Object.defineProperty(this,"ping",{value:function(n,r){var a;return r=r||4,e.dispatcher({myFunction:s,myArguments:[e]},function(e){e&&(a=i(n,"pong!"),setTimeout(function(){document.dispatchEvent(a)},1e3*r))}),t}});for(var h=0;h<c.children.length;h++)!function(s){var a,i,u,l=s["class"];l.match(/\[(.*?)]/g)&&(l=/\[(.*?)]/g.exec(l)[1],a=!0),i=a?c[l][0]:c[l],u={object:e[l],schema:i,that:t["this"]},i.menu&&Object.defineProperty(t,l,{value:function(){var t=[],s=r(arguments);t.push(u);for(var a=0;a<arguments.length;a++)t.push(arguments[a]);return e.dispatcher({myFunction:i.menu,myArguments:t,myThis:e},function(e){e&&(n=new o(e),s())}),n}})}(c.children[h])};return s(e)&&(n=new o(e)),t(n),n}}])},{"./../construct/newEvent.js":7}],10:[function(e,t,n){"use strict";var s=socioscapes.fn.fetchFromScape,r=socioscapes.fn.fetchGlobal,a=socioscapes.fn.fetchScape,i=socioscapes.fn.newCallback,o=socioscapes.fn.newDispatcher,c=socioscapes.fn.newGlobal,u=socioscapes.fn.fetchScapeSchema;socioscapes.fn.extend([{path:"newScapeObject",silent:!0,extension:function(e,t,n){var l=i(arguments),f=u(n),h=!1,d=function(e,t,n){var s=t?t.dispatcher:o();Object.defineProperty(this,"dispatcher",{value:s}),Object.defineProperty(this,"schema",{value:n}),Object.defineProperty(this.schema,"parent",{value:t||!1}),this.schema.container||Object.defineProperty(this.schema,"container",{value:t?t[n["class"]]:!1}),Object.defineProperty(this,"meta",{value:{},enumerable:!0}),Object.defineProperty(this.meta,"author",{value:"",configurable:!0,enumerable:!0}),Object.defineProperty(this.meta,"name",{value:e,configurable:!0,enumerable:!0}),Object.defineProperty(this.meta,"summary",{value:"",configurable:!0,enumerable:!0}),Object.defineProperty(this.meta,"type",{value:n.type,enumerable:!0});for(var r=0;r<n.children.length;r++){var a,i,c,u,l=n.children[r]["class"];l.match(/\[(.*?)]/g)&&(l=/\[(.*?)]/g.exec(l)[1],a=!0),c=a?n[l][0]:n[l],i=c.name||c["class"],u=c.value||[],this[l]||Object.defineProperty(this,l,{value:u,enumerable:!0}),a&&this[l].push(new d(i,this,c))}return this};return t=a(t),e&&(t?f&&(s(e,"name",t[f["class"]])?(console.log('Fetching existing scape object "'+e+'" of class "'+f["class"]+'".'),h=s(e,"name",t[f["class"]])):(console.log("Adding a new "+f["class"]+' called "'+e+'" to the "'+t.meta.name+'" '+t.schema["class"]+"."),h=new d(e,t,f),t[f["class"]].push(h))):a(e)?(console.log('Fetching exisisting scape "'+e+'".'),h=a(e)):r(e)?console.log('Sorry, there is already a global object called "'+e+'".'):(console.log('Creating a new scape called "'+e+'".'),h=new d(e,null,f),c(e,h))),l(h),h}}])},{}],11:[function(e,t,n){"use strict";var s,r=e("chroma-js"),a=e("./../lib/geostats.min.js"),i="0.5.6",o=e("./extend.js"),c=e("./../construct/newCallback.js"),u=e("./../construct/newDispatcher.js"),l=e("./../construct/newEvent.js"),f=e("./../fetch/fetchFromScape.js"),h=e("./../fetch/fetchGlobal.js"),d=e("./../fetch/fetchGoogleAuth.js"),p=e("./../fetch/fetchGoogleBq.js"),g=e("./../fetch/fetchGoogleGeocode.js"),m=e("./../fetch/fetchScape.js"),b=e("./../fetch/fetchWfs.js"),y=e("./../bool/isValidObject.js"),v=e("./../bool/isValidName.js"),w=e("./../bool/isValidUrl.js"),j=e("./../menu/menuClass.js"),k=e("./../menu/menuConfig.js"),x=e("./../menu/menuStore.js"),C=e("./../menu/menuRequire.js"),_=e("./../construct/newGlobal.js");s=function(e){return s.fn.init(e)},s.fn=s.prototype={constructor:s,extend:o,chroma:r,geostats:a,newEvent:l,fetchFromScape:f,fetchGlobal:h,fetchGoogleAuth:d,fetchGoogleBq:p,fetchGoogleGeocode:g,fetchScape:m,fetchWfs:b,init:function(){},isValidObject:y,isValidName:v,isValidUrl:w,menuClass:j,menuConfig:k,menuStore:x,menuRequire:C,newCallback:c,newDispatcher:u,newGlobal:_,version:i},s.fn.newGlobal("socioscapes",s,!0),t.exports=s},{"./../bool/isValidName.js":2,"./../bool/isValidObject.js":3,"./../bool/isValidUrl.js":4,"./../construct/newCallback.js":5,"./../construct/newDispatcher.js":6,"./../construct/newEvent.js":7,"./../construct/newGlobal.js":8,"./../fetch/fetchFromScape.js":16,"./../fetch/fetchGlobal.js":17,"./../fetch/fetchGoogleAuth.js":18,"./../fetch/fetchGoogleBq.js":19,"./../fetch/fetchGoogleGeocode.js":20,"./../fetch/fetchScape.js":21,"./../fetch/fetchWfs.js":22,"./../lib/geostats.min.js":23,"./../menu/menuClass.js":25,"./../menu/menuConfig.js":26,"./../menu/menuRequire.js":27,"./../menu/menuStore.js":28,"./extend.js":12,"chroma-js":1}],12:[function(e,t,n){"use strict";function s(e){var t,n,s,r,a,i;for(a=0;a<e.length;a++)if(r=socioscapes.fn,s="string"==typeof e[a].path?e[a].path:!1,t=e[a].extension||!1,s&&t){if(s.indexOf("/")>-1){for(s=s.split("/"),i=0;r[s[i]];i++)r=r[s[i]];n=s[i]}else n=s;r?(r[n]=t,e[a].alias&&(r.schema.alias[e[a].alias]=r[n]),e[a].silent||console.log('Extended socioscapes.fn with "'+s+(e[a].alias?'" alias "'+e[a].alias+'".':'".'))):console.log("Sorry, unable to add your extension. Please check the .path string.")}return socioscapes.fn}t.exports=s},{}],13:[function(e,t,n){"use strict";{var s=socioscapes.fn.fetchScape,r=socioscapes.fn.newScapeObject,a=socioscapes.fn.newScapeMenu,i=socioscapes.fn.newGlobal;socioscapes.fn.fetchGlobal}socioscapes.fn.extend([{path:"init",silent:!0,extension:function(e){var t;return t=s(e||"scape0")||r("scape0",null,"scape"),socioscapes.s=t,i("socioscapes",socioscapes,!0),a(t)}}])},{}],14:[function(e,t,n){"use strict";var s=socioscapes.fn.menuClass,r=socioscapes.fn.menuConfig,a=socioscapes.fn.menuStore,i=socioscapes.fn.menuRequire,o=socioscapes.fn.newCallback;socioscapes.fn.extend([{path:"schema",silent:!0,extension:{}},{path:"schema/structure",silent:!0,extension:{scape:{children:[{"class":"[state]"}],"class":"scape",menu:s,name:"scape",state:[{"class":"state",children:[{"class":"[layer]"},{"class":"[view]"}],layer:[{children:[{"class":"data"},{"class":"geom"}],"class":"layer",data:{menu:a,value:{}},geom:{menu:a,value:{}},menu:s,name:"layer0",parent:"state",type:"layer.state.scape.sociJson"}],menu:s,name:"state0",parent:"scape",type:"state.scape.sociJson",view:[{config:{menu:r,value:{breaks:5,classification:"jenks",classes:[],colourScale:"YlOrRd",featureIdProperty:"dauid",layer:0,type:"",valueIdProperty:"total",version:socioscapes.fn.version}},children:[{"class":"config"},{"class":"require"}],"class":"view",menu:s,name:"view0",parent:"state",require:{menu:i,value:{layers:{},modules:{}}},type:"view.state.scape.sociJson"}]}],type:"scape.sociJson"}}}]),socioscapes.fn.extend([{path:"schema/alias",silent:!0,extension:{bq:socioscapes.fn.fetchGoogleBq,wfs:socioscapes.fn.fetchWfs}},{path:"schema/index",silent:!0,extension:{scape:{"class":"scape",type:"scape.sociJson",schema:socioscapes.fn.schema.structure.scape},state:{"class":"state",type:"state.scape.sociJson",schema:socioscapes.fn.schema.structure.scape.state[0]},layer:{"class":"layer",type:"layer.state.scape.sociJson",schema:socioscapes.fn.schema.structure.scape.state[0].layer[0]},view:{"class":"view",type:"view.state.scape.sociJson",schema:socioscapes.fn.schema.structure.scape.state[0].view[0]}}},{path:"fetchScapeSchema",silent:!0,extension:function(e){var t,n=o(arguments),s=socioscapes.fn.schema.index;return e=e.indexOf(".")>-1?e.split(".")[0]:e,e&&(t=s[e].schema),n(t),t}}])},{}],15:[function(e,t,n){"use strict";var s=socioscapes.fn.chroma,r=socioscapes.fn.isValidObject,a=socioscapes.fn.fetchGoogleGeocode,i=socioscapes.fn.fetchFromScape,o=socioscapes.fn.fetchScape,c=socioscapes.fn.newCallback;socioscapes.fn.extend([{path:"viewGmapSymbology",alias:"gsymbology",silent:!0,extension:function(e){var t,n=c(arguments),r=function(e){var t,n,r,a,u=this;return e&&e.config&&e.config.gmap?(e.config.gmap.styles=e.config.gmap.styles||{},e.config.gmap.styles["default"]=e.config.gmap.styles["default"]||{fillOpacity:.75,fillColor:"purple",strokeOpacity:0,strokeColor:"black",strokeWeight:0,zIndex:5,visible:!0,clickable:!0},e.config.gmap.styles.hover=e.config.gmap.styles.hover||{fillOpacity:75,fillColor:"purple",strokeOpacity:1,strokeColor:"black",strokeWeight:2,zIndex:10,visible:!0,clickable:!0},e.config.gmap.styles.click=e.config.gmap.styles.click||{fillOpacity:1,fillColor:"purple",strokeOpacity:1,strokeColor:"black",strokeWeight:3,zIndex:15,visible:!0,clickable:!0},e.config.features={selected:{},selectedCount:0,selectedLimit:0},this.dataLayer=new google.maps.Data,Object.defineProperty(this,"init",{value:function(){var t=c(arguments),n=o(e)?i(e.config.layer,"name",e.schema.parent.layer):!1,s=n?n.data:!1,r=n?n.geom:!1,a="string"==typeof e.config.featureIdProperty?e.config.featureIdProperty.toLowerCase():"dauid",l="string"==typeof e.config.valueIdProperty?e.config.valueIdProperty.toLowerCase():"total";if(s&&r&&a&&l)if(r.geoJson&&r.geoJson.features[0].properties[a]){u.dataLayer.forEach(function(e){u.dataLayer.remove(e)});try{u.dataLayer.addGeoJson(r.geoJson,{featureIdProperty:a}),void 0!==s.geoJson.features[0].properties[l]?(u.dataLayer.forEach(function(e){e.G[l]=s.byId[e.G[a]][l]?s.byId[e.G[a]][l]:!1}),u.classify(function(){u.style(function(){u.onHover(),u.onClick(5),t(u)})})):console.log("Sorry, that layer does not contain matching data for the geometry.")}catch(f){console.log("Sorry, the Google Maps API encountered a problem adding your features to the symbology layer: "+f)}}else console.log('Sorry, the geometry at layer "'+e.config.layer+'" does not have a property called "'+e.config.featureIdProperty+'".');else console.log('Sorry, there was a problem with your ".config" options. Did you you set a valid layer? Does your layer have data and geometry? Do the property names in your data and geometry correspond to the "featureIdProperty" and "valueIdProperty" fields?');return e}}),Object.defineProperty(this,"classify",{value:function(){var t=c(arguments),n=o(e)?i(e.config.layer,"name",e.schema.parent.layer):!1,s=n?n.data:!1,r="getClass"+e.config.classification.charAt(0).toUpperCase()+e.config.classification.slice(1),a=e.config.breaks;return s&&(e.config.classes=n.data.geostats[r](a),t(u)),e}}),Object.defineProperty(this,"style",{value:function(){var t,n,r,a,i=c(arguments);return u.dataLayer.setStyle(function(i){return t=s.scale(e.config.colourScale).domain(e.config.classes).out("hex"),n=i.getProperty(e.config.valueIdProperty),r=i.getProperty("hover")?"hover":i.getProperty("selected")?"click":"default",a={fillOpacity:e.config.gmap.styles[r].fillOpacity,fillColor:t(n)||e.config.gmap.styles[r].fillColor,strokeOpacity:e.config.gmap.styles[r].strokeOpacity,strokeColor:s(t(n)).darken()||e.config.gmap.styles[r].strokeColor,strokeWeight:e.config.gmap.styles[r].strokeWeight,zIndex:e.config.gmap.styles[r].zIndex,visible:e.config.gmap.styles[r].visible,clickable:e.config.gmap.styles[r].clickable}}),i(u),e}}),Object.defineProperty(this,"on",{value:function(){var t=c(arguments);return u.dataLayer.setMap(e.gmap.mapBase),t(u),e}}),Object.defineProperty(this,"off",{value:function(){var t=c(arguments);return u.dataLayer.setMap(null),t(u),e}}),Object.defineProperty(this,"onHover",{value:function(t){return t=c(arguments),r?(r.remove(),a.remove()):(r=u.dataLayer.addListener("mouseover",function(e){e.feature.setProperty("hover",!0),t(e.feature)}),a=u.dataLayer.addListener("mouseout",function(e){e.feature.setProperty("hover",!1),t(e.feature)})),e}}),Object.defineProperty(this,"onClick",{value:function(s,r){if(r=c(arguments),n){n.remove();for(var a in e.config.features.selected)e.config.features.selected.hasOwnProperty(a)&&(e.config.features.selected[a].setProperty("selected",!1),delete e.config.features.selected[a])}else e.config.features.selectedLimit=Number.isInteger(s)?s:0,e.config.features.selectedCount=0,n=u.dataLayer.addListener("click",function(n){t=n.feature.getProperty(e.config.featureIdProperty),n.feature.getProperty("selected")?(n.feature.setProperty("selected",!1),e.config.features.selectedCount=e.config.features.selectedLimit?Math.max(e.config.features.selectedCount-1,0):e.config.features.selectedCount,delete e.config.features.selected[t],r(n.feature,!1)):((e.config.features.selectedLimit?e.config.features.selectedLimit>e.config.features.selectedCount:!0)&&(n.feature.setProperty("selected",!0),e.config.features.selectedCount=e.config.features.selectedLimit>e.config.features.selectedCount?e.config.features.selectedCount+1:e.config.features.selectedCount,e.config.features.selected[t]=n.feature),r(n.feature,!0))});return e}}),this):void 0};return e=socioscapes.fn.isValidObject(e)?e:this||!1,t=e&&e.schema&&e.config?i(e.config.layer,"name",e.schema.parent.layer):!1,t&&(e.gmap.mapSymbology=new r(e),n(e)),e}}]),socioscapes.fn.extend([{path:"viewGmapLabels",alias:"glabel",silent:!0,extension:function(e){var t,n,s=c(arguments);return e=e||this,r(e)&&(e.config.gmap.styles=e.config.gmap.styles||{},e.config.gmap.styles.mapLabels=e.config.gmap.styles.mapLabels||[{elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{weight:5}]}],n=new google.maps.OverlayView,n.onAdd=function(){t=this.getPanes(),t.mapPane.style.zIndex=150},n.onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.div_=null},n.draw=function(){},e.gmap.mapBase?(n.setMap(e.gmap.mapBase),e.gmap.mapLabels=new google.maps.StyledMapType(e.config.gmap.styles.mapLabels),e.gmap.mapBase.overlayMapTypes.insertAt(0,e.gmap.mapLabels),s(e)):s(!1)),this}}]),socioscapes.fn.extend([{path:"viewGmapMap",alias:"gmap",silent:!0,extension:function(e){var t=c(arguments);return e=e||this,r(e)&&(e.gmap=e.gmap||{},e.config.gmap=e.config.gmap||{},e.config.gmap.address=e.config.gmap.address||"Toronto, Canada",e.config.gmap.div=document.getElementById(e.config.gmap.div)||document.getElementById("map-canvas"),e.config.gmap.options=e.config.gmap.options||{zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,MapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.SATELLITE],style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},scaleControl:!0,disableDoubleClickZoom:!0,streetViewControl:!0,overviewMapControl:!0},e.config.gmap.styles=e.config.gmap.styles||{},e.config.gmap.styles.map=e.config.gmap.styles.map||[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}],e.config.gmap.div?a(e.config.gmap.address,function(n){n?(e.config.gmap.geocode=n,e.config.gmap.options.center=e.config.gmap.options.center||{lat:n.lat,lng:n.lng},e.config.gmap.options.styles=e.config.gmap.styles.map,e.gmap.mapBase=new google.maps.Map(e.config.gmap.div,e.config.gmap.options),e.gmap.mapBase.setTilt(45),t(e)):t(!1)}):console.log("Sorry, unable to located the view's config.gmap.div element.")),this}}]),socioscapes.fn.extend([{path:"viewGmapView",alias:"gview",silent:!0,extension:function(e){var t=c(arguments),n=socioscapes.fn.viewGmapMap,s=socioscapes.fn.viewGmapLabels,a=socioscapes.fn.viewGmapSymbology;return e=e||this,r(e)&&n(e,function(n){n&&s(e,function(n){n&&a(e,function(n){n&&e.gmap.mapSymbology.init(function(n){n&&(e.gmap.mapSymbology.on(),t(e))})})})}),this}}])},{}],16:[function(e,t,n){"use strict";function s(e,t,n){var s=a(arguments),i=!1;if(n)if(Number.isInteger(e))i=n[e]?n[e]:!1;else if(r(e))for(var o=0;o<n.length;o++)e===n[o].meta[t]&&(i=n[o]);return s(i),i}var r=e("./../bool/isValidName.js"),a=e("./../construct/newCallback.js");Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.exports=s},{"./../bool/isValidName.js":2,"./../construct/newCallback.js":5}],17:[function(e,t,n){(function(n){"use strict";function s(e){var t,s=r(arguments);return window?t=window[e]:n&&(t=n[e]),s(t),t}var r=e("./../construct/newCallback.js");t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../construct/newCallback.js":5}],18:[function(e,t,n){"use strict";function s(e){var t=r(arguments);gapi.auth.authorize(e.auth,function(n){n&&n.access_token&&gapi.client.load(e.client.name,e.client.version,function(e){return t(e),e})})}var r=e("./../construct/newCallback.js");t.exports=s},{"./../construct/newCallback.js":5}],19:[function(e,t,n){"use strict";function s(e){var t,n=r(arguments),s=e&&e.clientId?e.clientId:!1,i=e?e.id:!1,o=e&&e.valueIdProperty?e.valueIdProperty.toLowerCase():"total",c=0,u=e&&e.featureIdProperty?e.featureIdProperty.toLowerCase():"dauid",l=1,f=e?e.projectId:!1,h=e?e.queryString:!1,d={},p=this,g={auth:{client_id:s,scope:["https://www.googleapis.com/auth/bigquery"],immediate:!0},client:{name:"bigquery",version:"v2"},query:{projectId:f,timeoutMs:"30000",query:h}};e&&a(g,function(){return t=gapi.client.bigquery.jobs.query(g.query),t.execute(function(e){d.byColumn={},d.byId={},d.geoJson={type:"FeatureCollection",features:[]},d.meta={},d.meta.bqQueryString=h,d.meta.bqTableId=i,d.meta.columns=[],d.meta.totalRows=parseInt(e.totalRows),d.meta.source="Google BigQuery, "+g.client.version,d.raw=e;for(var t=0;t<e.schema.fields.length;t++)d.meta.columns.push(e.schema.fields[t].name.toLowerCase()),d.byColumn[e.schema.fields[t].name.toLowerCase()]=[],l=e.schema.fields[t].name.toLowerCase()===u?t:l,c=e.schema.fields[t].name.toLowerCase()===o?t:c;e.rows.forEach(function(t){for(var n=0,s={};n<t.f.length;n++)n===c&&(t.f[n].v=parseFloat(t.f[n].v)),s[e.schema.fields[n].name]=t.f[n].v,d.byColumn[e.schema.fields[n].name].push(t.f[n].v);d.geoJson.features.push({type:"Feature",properties:s}),d.byId[s[u]]=s}),d.geoJson.features.length===d.meta.totalRows&&(d.geostats=new socioscapes.fn.geostats(d.byColumn[o]),n(d))}),p})}var r=e("./../construct/newCallback.js"),a=e("./../fetch/fetchGoogleAuth.js");t.exports=s},{"./../construct/newCallback.js":5,"./../fetch/fetchGoogleAuth.js":18}],20:[function(e,t,n){"use strict";function s(e){var t=r(arguments),n=new google.maps.Geocoder,s={};return n.geocode({address:e},function(n,r){r===google.maps.GeocoderStatus.OK?(s.lat=n[0].geometry.location.lat(),s.lng=n[0].geometry.location.lng(),s.raw=n,t(s)):console.log("Error: Google Geocoder was unable to locate "+e)}),this}var r=e("./../construct/newCallback.js");t.exports=s},{"./../construct/newCallback.js":5}],21:[function(e,t,n){"use strict";function s(e,t){var n,s=i(arguments);return"string"==typeof e?r(e)&&a(r(e))&&(n=r(e)):a(e)&&(n=e),s(n),n}var r=e("./../fetch/fetchGlobal.js"),a=e("./../bool/isValidObject.js"),i=e("./../construct/newCallback.js");t.exports=s},{"./../bool/isValidObject.js":3,"./../construct/newCallback.js":5,"./../fetch/fetchGlobal.js":17}],22:[function(e,t,n){"use strict";function s(e){var t,n=r(arguments),s=new XMLHttpRequest;return s.overrideMimeType("application/json"),s.open("GET",e,!0),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&(t={},t.geoJson=JSON.parse(s.responseText),t.meta={},t.meta.crs=t.geoJson.crs.properties.name,t.meta.totalFeatures=parseInt(t.geoJson.totalFeatures),t.meta.type="geoJson",t.meta.source="Web Feature Service",t.meta.wfsQueryString=e,n(t))},s.send(null),this}var r=e("./../construct/newCallback.js");t.exports=s},{"./../construct/newCallback.js":5}],23:[function(e,n,s){!function(e){"object"==typeof s?n.exports=e():"function"==typeof define&&define.amd?define(e):geostats=e()}(function(){var e=function(e){return"number"==typeof e&&parseFloat(e)==parseInt(e,10)&&!isNaN(e)};return Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(t=+t||0,1/0===Math.abs(t)&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1}),function(n){this.objectID="",this.legendSeparator=this.separator=" - ",this.method="",this.precision=0,this.precisionflag="auto",this.roundlength=2,this.silent=this.debug=this.is_uniqueValues=!1,this.bounds=[],this.ranges=[],this.inner_ranges=null,this.colors=[],this.counter=[],this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null,this.log=function(e,t){1!=this.debug&&null==t||console.log(this.objectID+"(object id) :: "+e)},this.setBounds=function(e){this.log("Setting bounds ("+e.length+") : "+e.join()),this.bounds=[],this.bounds=e},this.setSerie=function(e){this.log("Setting serie ("+e.length+") : "+e.join()),this.serie=[],this.serie=e,this.setPrecision()},this.setColors=function(e){this.log("Setting color ramp ("+e.length+") : "+e.join()),this.colors=e},this.doCount=function(){if(!this._nodata()){var e=this.sorted();for(this.counter=[],i=0;i<this.bounds.length-1;i++)this.counter[i]=0;for(j=0;j<e.length;j++){var t=this.getClass(e[j]);this.counter[t]++}}},this.setPrecision=function(e){if("undefined"!=typeof e&&(this.precisionflag="manual",this.precision=e),"auto"==this.precisionflag)for(e=0;e<this.serie.length;e++){var t=isNaN(this.serie[e]+"")||-1==(this.serie[e]+"").toString().indexOf(".")?0:(this.serie[e]+"").split(".")[1].length;t>this.precision&&(this.precision=t)}this.log("Calling setPrecision(). Mode : "+this.precisionflag+" - Decimals : "+this.precision),this.serie=this.decimalFormat(this.serie)},this.decimalFormat=function(e){for(var t=[],n=0;n<e.length;n++){var s=e[n];t[n]=!isNaN(parseFloat(s))&&isFinite(s)?parseFloat(e[n].toFixed(this.precision)):e[n]}return t},this.setRanges=function(){for(this.ranges=[],i=0;i<this.bounds.length-1;i++)this.ranges[i]=this.bounds[i]+this.separator+this.bounds[i+1]},this.min=function(){return this._nodata()?void 0:this.stat_min=Math.min.apply(null,this.serie)},this.max=function(){return this.stat_max=Math.max.apply(null,this.serie)},this.sum=function(){if(!this._nodata()){if(null==this.stat_sum)for(i=this.stat_sum=0;i<this.pop();i++)this.stat_sum+=parseFloat(this.serie[i]);return this.stat_sum}},this.pop=function(){return this._nodata()?void 0:(null==this.stat_pop&&(this.stat_pop=this.serie.length),this.stat_pop)},this.mean=function(){return this._nodata()?void 0:(null==this.stat_mean&&(this.stat_mean=parseFloat(this.sum()/this.pop())),this.stat_mean)},this.median=function(){if(!this._nodata()){if(null==this.stat_median){this.stat_median=0;var e=this.sorted();this.stat_median=e.length%2?parseFloat(e[Math.ceil(e.length/2)-1]):(parseFloat(e[e.length/2-1])+parseFloat(e[e.length/2]))/2}return this.stat_median}},this.variance=function(){if(round="undefined"==typeof round?!0:!1,!this._nodata()){if(null==this.stat_variance){for(var e=0,t=0;t<this.pop();t++)e+=Math.pow(this.serie[t]-this.mean(),2);this.stat_variance=e/this.pop(),1==round&&(this.stat_variance=Math.round(this.stat_variance*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))}return this.stat_variance}},this.stddev=function(e){return e="undefined"==typeof e?!0:!1,this._nodata()?void 0:(null==this.stat_stddev&&(this.stat_stddev=Math.sqrt(this.variance()),1==e&&(this.stat_stddev=Math.round(this.stat_stddev*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_stddev)},this.cov=function(e){return e="undefined"==typeof e?!0:!1,this._nodata()?void 0:(null==this.stat_cov&&(this.stat_cov=this.stddev()/this.mean(),1==e&&(this.stat_cov=Math.round(this.stat_cov*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_cov)},this._nodata=function(){return 0==this.serie.length?(this.silent?this.log("[silent mode] Error. You should first enter a serie!",!0):alert("Error. You should first enter a serie!"),1):0},this._hasNegativeValue=function(){for(i=0;i<this.serie.length;i++)if(0>this.serie[i])return!0;return!1},this._hasZeroValue=function(){for(i=0;i<this.serie.length;i++)if(0===parseFloat(this.serie[i]))return!0;return!1},this.sorted=function(){return null==this.stat_sorted&&(this.stat_sorted=this.serie.sort(0==this.is_uniqueValues?function(e,t){return e-t}:function(e,t){var n=e.toString().toLowerCase(),s=t.toString().toLowerCase();return s>n?-1:n>s?1:0})),this.stat_sorted},this.info=function(){if(!this._nodata()){var e;return e=""+("Population : "+this.pop()+" - [Min : "+this.min()+" | Max : "+this.max()+"]\n"),e+="Mean : "+this.mean()+" - Median : "+this.median()+"\n",e+="Variance : "+this.variance()+" - Standard deviation : "+this.stddev()+" - Coefficient of variation : "+this.cov()+"\n"}},this.setClassManually=function(e){if(!this._nodata()){if(e[0]===this.min()&&e[e.length-1]===this.max())return this.setBounds(e),this.setRanges(),this.method="manual classification ("+(e.length-1)+" classes)",this.bounds;if(this.silent)this.log("[silent mode] "+t("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max()),!0);else{e=alert;var n="Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max();e(n)}}},this.getClassEqInterval=function(e,t,n){if(!this._nodata()){t="undefined"==typeof t?this.min():t,n="undefined"==typeof n?this.max():n;var s=[],r=t;for(t=(n-t)/e,i=0;i<=e;i++)s[i]=r,r+=t;return s[e]=n,this.setBounds(s),this.setRanges(),this.method="eq. intervals ("+e+" classes)",this.bounds}},this.getQuantiles=function(e){for(var t=this.sorted(),n=[],s=this.pop()/e,r=1;e>r;r++){var a=Math.round(r*s+.49);n.push(t[a-1])}return n},this.getClassQuantile=function(e){if(!this._nodata()){var t=this.sorted(),n=this.getQuantiles(e);return n.unshift(t[0]),n[t.length-1]!==t[t.length-1]&&n.push(t[t.length-1]),this.setBounds(n),this.setRanges(),this.method="quantile ("+e+" classes)",this.bounds}},this.getClassStdDeviation=function(e,t){if(!this._nodata()){this.max(),this.min();var n=[];if(1==e%2){var s=Math.floor(e/2),r=s+1;n[s]=this.mean()-this.stddev()/2,n[r]=this.mean()+this.stddev()/2,i=s-1}else r=e/2,n[r]=this.mean(),i=r-1;for(;0<i;i--)s=n[i+1]-this.stddev(),n[i]=s;for(i=r+1;i<e;i++)s=n[i-1]+this.stddev(),n[i]=s;return n[0]="undefined"==typeof t?n[1]-this.stddev():this.min(),n[e]="undefined"==typeof t?n[e-1]+this.stddev():this.max(),this.setBounds(n),this.setRanges(),this.method="std deviation ("+e+" classes)",this.bounds}},this.getClassGeometricProgression=function(e){if(!this._nodata()){if(!this._hasNegativeValue()&&!this._hasZeroValue()){var t=[],n=this.min(),s=this.max(),s=Math.log(s)/Math.LN10,n=Math.log(n)/Math.LN10,s=(s-n)/e;

for(i=0;i<e;i++)t[i]=0==i?n:t[i-1]+s;return t=t.map(function(e){return Math.pow(10,e)}),t.push(this.max()),this.setBounds(t),this.setRanges(),this.method="geometric progression ("+e+" classes)",this.bounds}this.silent?this.log("[silent mode] geometric progression can't be applied with a serie containing negative or zero values.",!0):alert("geometric progression can't be applied with a serie containing negative or zero values.")}},this.getClassArithmeticProgression=function(e){if(!this._nodata()){var t=0;for(i=1;i<=e;i++)t+=i;var n=[],s=this.min(),t=(this.max()-s)/t;for(i=0;i<=e;i++)n[i]=0==i?s:n[i-1]+i*t;return this.setBounds(n),this.setRanges(),this.method="arithmetic progression ("+e+" classes)",this.bounds}},this.getClassJenks=function(e){if(!this._nodata()){dataList=this.sorted();for(var t=[],n=0,s=dataList.length+1;s>n;n++){for(var r=[],a=0,i=e+1;i>a;a++)r.push(0);t.push(r)}for(n=[],s=0,r=dataList.length+1;r>s;s++){for(var a=[],i=0,o=e+1;o>i;i++)a.push(0);n.push(a)}for(s=1,r=e+1;r>s;s++){t[0][s]=1,n[0][s]=0;for(var c=1,a=dataList.length+1;a>c;c++)n[c][s]=1/0;c=0}for(s=2,r=dataList.length+1;r>s;s++){for(var o=i=a=0,u=1,l=s+1;l>u;u++){var f=s-u+1,c=parseFloat(dataList[f-1]),i=i+c*c,a=a+c,o=o+1,c=i-a*a/o,h=f-1;if(0!=h)for(var d=2,p=e+1;p>d;d++)n[s][d]>=c+n[h][d-1]&&(t[s][d]=f,n[s][d]=c+n[h][d-1])}t[s][1]=1,n[s][1]=c}for(c=dataList.length,n=[],s=0;e>=s;s++)n.push(0);for(n[e]=parseFloat(dataList[dataList.length-1]),n[0]=parseFloat(dataList[0]),s=e;s>=2;)r=parseInt(t[c][s]-2),n[s-1]=dataList[r],c=parseInt(t[c][s]-1),--s;return n[0]==n[1]&&(n[0]=0),this.setBounds(n),this.setRanges(),this.method="Jenks ("+e+" classes)",this.bounds}},this.getClassUniqueValues=function(){if(!this._nodata()){this.is_uniqueValues=!0;var e=this.sorted(),t=[];for(i=0;i<this.pop();i++)-1===t.indexOf(e[i])&&t.push(e[i]);return this.bounds=t,this.method="unique values",t}},this.getClass=function(e){for(i=0;i<this.bounds.length;i++)if(1==this.is_uniqueValues){if(e==this.bounds[i])return i}else if(parseFloat(e)<=this.bounds[i+1])return i;return"Unable to get value's class."},this.getRanges=function(){return this.ranges},this.getRangeNum=function(e){var t,n;for(n=0;n<this.ranges.length;n++)if(t=this.ranges[n].split(/ - /),e<=parseFloat(t[1]))return n},this.getInnerRanges=function(){if(null!=this.inner_ranges)return this.inner_ranges;var e=[],t=this.sorted(),n=1;for(i=0;i<t.length;i++){if(0==i)var s=t[i];if(parseFloat(t[i])>parseFloat(this.bounds[n])&&(e[n-1]=""+s+this.separator+t[i-1],s=t[i],n++),n==this.bounds.length-1)return e[n-1]=""+s+this.separator+t[t.length-1],this.inner_ranges=e}},this.getSortedlist=function(){return this.sorted().join(", ")},this.getHtmlLegend=function(t,n,s,r,a,o){var c="",u=[];if(this.doCount(),ccolors=null!=t?t:this.colors,lg=null!=n?n:"Legend",getcounter=null!=s?!0:!1,fn=null!=r?r:function(e){return e},null==a&&(a="default"),"discontinuous"==a&&(this.getInnerRanges(),-1!==this.counter.indexOf(0)))return void(this.silent?this.log("[silent mode] geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!",!0):alert("geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!"));if("DESC"!==o&&(o="ASC"),!(ccolors.length<this.ranges.length)){if(0==this.is_uniqueValues)for(i=0;i<this.ranges.length;i++)!0===getcounter&&(c=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),n=this.ranges[i].split(this.separator),t=parseFloat(n[0]).toFixed(this.precision),n=parseFloat(n[1]).toFixed(this.precision),"distinct"==a&&0!=i&&(e(t)?(t=parseInt(t)+1,"manual"==this.precisionflag&&0!=this.precision&&(t=parseFloat(t).toFixed(this.precision))):(t=parseFloat(t)+1/Math.pow(10,this.precision),t=parseFloat(t).toFixed(this.precision))),"discontinuous"==a&&(n=this.inner_ranges[i].split(this.separator),t=parseFloat(n[0]).toFixed(this.precision),n=parseFloat(n[1]).toFixed(this.precision)),t=fn(t)+this.legendSeparator+fn(n),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+c+"</div>",u.push(t);else for(i=0;i<this.bounds.length;i++)!0===getcounter&&(c=' <span class="geostats-legend-counter">('+this.counter[i]+")</span>"),t=fn(this.bounds[i]),t='<div><div class="geostats-legend-block" style="background-color:'+ccolors[i]+'"></div> '+t+c+"</div>",u.push(t);for("DESC"===o&&u.reverse(),a='<div class="geostats-legend"><div class="geostats-legend-title">'+lg+"</div>",i=0;i<u.length;i++)a+=u[i];return a+"</div>"}this.silent?this.log("[silent mode] The number of colors should fit the number of ranges. Exit!",!0):alert("The number of colors should fit the number of ranges. Exit!")},this.objectID=(new Date).getUTCMilliseconds(),this.log("Creating new geostats object"),"undefined"!=typeof n&&0<n.length?(this.serie=n,this.setPrecision(),this.log("Setting serie ("+n.length+") : "+n.join())):this.serie=[],this.getJenks=this.getClassJenks,this.getGeometricProgression=this.getClassGeometricProgression,this.getEqInterval=this.getClassEqInterval,this.getQuantile=this.getClassQuantile,this.getStdDeviation=this.getClassStdDeviation,this.getUniqueValues=this.getClassUniqueValues,this.getArithmeticProgression=this.getClassArithmeticProgression}})},{}],24:[function(e,t,n){"use strict";{var s=e("./core/core.js");e("./core/schema.js"),e("./construct/newScapeObject.js"),e("./construct/newScapeMenu.js"),e("./core/init.js"),e("./extension/gmaps.js")}t.exports=s},{"./construct/newScapeMenu.js":9,"./construct/newScapeObject.js":10,"./core/core.js":11,"./core/init.js":13,"./core/schema.js":14,"./extension/gmaps.js":15}],25:[function(e,t,n){"use strict";function s(e,t){var n=r(arguments),s=a(t||e.schema.name,"name",e.object);return n(s),s}var r=e("./../construct/newCallback.js"),a=e("./../fetch/fetchFromScape.js");t.exports=s},{"./../construct/newCallback.js":5,"./../fetch/fetchFromScape.js":16}],26:[function(e,t,n){"use strict";function s(e,t,n){var s=r(arguments),a=e.that,i=socioscapes.fn[t]||socioscapes.fn.schema.alias[t]||("function"==typeof t?t:!1);return n="object"==typeof n?n:{name:n||t},i&&this.dispatcher({myFunction:i,myArguments:[n],myThis:e.that},function(e){e&&(console.log('The results of your "'+t+'" are ready.'),a=e,socioscapes.fn.newEvent(t+".success",t+".success")),socioscapes.fn.newEvent(t+".fail",t+".fail")}),s(a),a}var r=e("./../construct/newCallback.js");t.exports=s},{"./../construct/newCallback.js":5}],27:[function(e,t,n){"use strict";function s(e,t,n){var s=r(arguments);return s(this),this}{var r=e("./../construct/newCallback.js");e("./../fetch/fetchGoogleBq.js")}t.exports=s},{"./../construct/newCallback.js":5,"./../fetch/fetchGoogleBq.js":19}],28:[function(e,t,n){"use strict";function s(e,t,n){var s=r(arguments),a=e.that,i=socioscapes.fn[t]||socioscapes.fn.schema.alias[t]||("function"==typeof t?t:!1);return i?this.dispatcher({myFunction:i,myArguments:[n]},function(n){if(n){for(var s in n)n.hasOwnProperty(s)&&(e.object[s]=n[s]);console.log('The results of your "'+t+'" query are ready.'),a=n}}):console.log('Sorry, "'+t+'" is not a valid function.'),s(a),a}{var r=e("./../construct/newCallback.js");e("./../construct/newEvent.js")}t.exports=s},{"./../construct/newCallback.js":5,"./../construct/newEvent.js":7}]},{},[24]);